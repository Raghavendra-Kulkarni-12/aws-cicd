version: 0.2

phases:
  install:
    commands:
      - apt-get update
      - apt-get install -y zip unzip
  pre_build:
    commands:
      - npm install
  build:
    commands:
      - echo Build started on `date`
      - npm run build
  post_build:
    commands:
      - echo Build Finished on `date`
      - zip -qr aws-cicd.zip ./*
      - ls
      - aws lambda update-function-code --function-name aws-cicd-fe --zip-file fileb://aws-cicd.zip